{"version":3,"file":"navigation.min.js","sources":["../../Private/Src/Layout/navigation.js"],"sourcesContent":["(() => {\n  const burgerButton = document.querySelector('.js-burger');\n  const menu = document.getElementById(burgerButton.getAttribute('aria-controls'));\n\n  // Fonction pour activer le comportement burger (mobile)\n  const enableBurger = () => {\n    if (!burgerButton.dataset.burgerEnabled) {\n      burgerButton.dataset.burgerEnabled = 'true';\n      burgerButton.addEventListener('click', onBurgerClick);\n      document.addEventListener('click', onDocumentClick);\n    }\n\n    menu.setAttribute('aria-hidden', 'true');\n    burgerButton.setAttribute('aria-expanded', 'false');\n  };\n\n  // Fonction pour désactiver le burger (desktop)\n  const disableBurger = () => {\n    burgerButton.removeEventListener('click', onBurgerClick);\n    document.removeEventListener('click', onDocumentClick);\n    delete burgerButton.dataset.burgerEnabled;\n\n    menu.removeAttribute('aria-hidden');\n    burgerButton.setAttribute('aria-expanded', 'false');\n  };\n\n  // Clic sur le bouton burger\n  const onBurgerClick = e => {\n    e.preventDefault();\n\n    const isExpanded = burgerButton.getAttribute('aria-expanded') === 'true';\n    const newState = !isExpanded;\n\n    burgerButton.setAttribute('aria-expanded', newState);\n    menu.setAttribute('aria-hidden', !newState);\n\n    if (newState) {\n      // Menu ouvert → focus sur le premier lien\n      const firstLink = menu.querySelector('a, button, [tabindex]:not([tabindex=\"-1\"])');\n      if (firstLink) firstLink.focus();\n    } else {\n      // Menu fermé → rendre le focus au bouton\n      burgerButton.focus();\n    }\n  };\n\n  // Clic en dehors du menu → fermeture\n  const onDocumentClick = e => {\n    const isClickInsideMenu = menu.contains(e.target);\n    const isClickOnButton = burgerButton.contains(e.target);\n\n    if (\n      burgerButton.getAttribute('aria-expanded') === 'true' &&\n      !isClickInsideMenu &&\n      !isClickOnButton\n    ) {\n      burgerButton.setAttribute('aria-expanded', 'false');\n      menu.setAttribute('aria-hidden', 'true');\n      burgerButton.focus(); // focus de retour sur le bouton\n    }\n  };\n\n  // Gérer la taille de fenêtre\n  const checkWindowSize = () => {\n    if (window.innerWidth < 992) {\n      enableBurger();\n    } else {\n      disableBurger();\n    }\n  };\n\n  // Éviter les appels multiples au resize\n  let resizeTimeout;\n  window.addEventListener('resize', () => {\n    clearTimeout(resizeTimeout);\n    resizeTimeout = setTimeout(checkWindowSize, 150);\n  });\n\n  window.addEventListener('DOMContentLoaded', checkWindowSize);\n})();\n"],"names":["burgerButton","menu","enableBurger","onBurgerClick","onDocumentClick","disableBurger","e","newState","firstLink","isClickInsideMenu","isClickOnButton","checkWindowSize","resizeTimeout"],"mappings":"CAAC,IAAM,CACL,MAAMA,EAAe,SAAS,cAAc,YAAY,EAClDC,EAAO,SAAS,eAAeD,EAAa,aAAa,eAAe,CAAC,EAGzEE,EAAe,IAAM,CACpBF,EAAa,QAAQ,gBACxBA,EAAa,QAAQ,cAAgB,OACrCA,EAAa,iBAAiB,QAASG,CAAa,EACpD,SAAS,iBAAiB,QAASC,CAAe,GAGpDH,EAAK,aAAa,cAAe,MAAM,EACvCD,EAAa,aAAa,gBAAiB,OAAO,CACpD,EAGMK,EAAgB,IAAM,CAC1BL,EAAa,oBAAoB,QAASG,CAAa,EACvD,SAAS,oBAAoB,QAASC,CAAe,EACrD,OAAOJ,EAAa,QAAQ,cAE5BC,EAAK,gBAAgB,aAAa,EAClCD,EAAa,aAAa,gBAAiB,OAAO,CACpD,EAGMG,EAAgBG,GAAK,CACzBA,EAAE,eAAc,EAGhB,MAAMC,EAAW,EADEP,EAAa,aAAa,eAAe,IAAM,QAMlE,GAHAA,EAAa,aAAa,gBAAiBO,CAAQ,EACnDN,EAAK,aAAa,cAAe,CAACM,CAAQ,EAEtCA,EAAU,CAEZ,MAAMC,EAAYP,EAAK,cAAc,4CAA4C,EAC7EO,GAAWA,EAAU,MAAK,CAChC,MAEER,EAAa,MAAK,CAEtB,EAGMI,EAAkBE,GAAK,CAC3B,MAAMG,EAAoBR,EAAK,SAASK,EAAE,MAAM,EAC1CI,EAAkBV,EAAa,SAASM,EAAE,MAAM,EAGpDN,EAAa,aAAa,eAAe,IAAM,QAC/C,CAACS,GACD,CAACC,IAEDV,EAAa,aAAa,gBAAiB,OAAO,EAClDC,EAAK,aAAa,cAAe,MAAM,EACvCD,EAAa,MAAK,EAEtB,EAGMW,EAAkB,IAAM,CACxB,OAAO,WAAa,IACtBT,EAAY,EAEZG,EAAa,CAEjB,EAGA,IAAIO,EACJ,OAAO,iBAAiB,SAAU,IAAM,CACtC,aAAaA,CAAa,EAC1BA,EAAgB,WAAWD,EAAiB,GAAG,CACjD,CAAC,EAED,OAAO,iBAAiB,mBAAoBA,CAAe,CAC7D,GAAC"}