<f:asset.css identifier="Dropdown" href="{publicFolder}/Css/dropdown.min.css" />
<f:asset.css identifier="Navbar" href="{publicFolder}/Css/navbar.min.css" />
<f:asset.script identifier="Dropdown" src="{publicFolder}/JavaScript/dropdown.js" />

<a href="#mainContent" class="skiptocontent">{f:translate(key: '{languageFolder}:skipToContent')}</a>

<nav class="navbar navbar-expand-lg navbar-light fixed-top">
  <div class="container">
		<f:if condition="{homePageUid} == {data.uid}">
			<f:then>
				<h1 class="navbar-brand">
          $$LOGO$$
					<!-- <svg>
						<title>Thomas Beck DÃ©veloppeur front-end</title>
						<use xlink:href="{dossierPublic}/Images/sprite.svg#logo"></use>
					</svg>						 -->
				</h1>
			</f:then>
			<f:else>
				<f:link.page pageUid="{homePageUid}" class="navbar-brand">
          $$LOGO$$
				</f:link.page>
			</f:else>
		</f:if>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mainNavigation" aria-controls="mainNavigation" aria-expanded="false" aria-label="{f:translate(key: '{languageFolder}:toogleMenu')}">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse d-lg-flex" id="mainNavigation">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <f:for each="{mainNavigation}" as="mainNavigationItem">
          <f:if condition="{mainNavigationItem.children}">
            <f:then>
                <li class="nav-item dropdown">
                  <a class="nav-link dropdown-toggle {f:if(condition: mainNavigationItem.active, then: 'active')}"
                    href="#"
                    id="navbarDropdown"
                    role="button"
                    data-bs-toggle="dropdown"
                    aria-expanded="false"
                    >
                    {mainNavigationItem.title}
                  </a>
                <f:render section="menuNextLevel" arguments="{menu: mainNavigationItem.children}" />
                </li>
              </f:then>
              <f:else>
                <li class="nav-item">
                  <a class="nav-link {f:if(condition: mainNavigationItem.active, then: 'active')}"
                      href="{mainNavigationItem.link}"
                      >
                      {mainNavigationItem.title}
                  </a>
               </f:else>
						</f:if>
          </li>
        </f:for>
      </ul>
    </div>
  </div>
</nav>

<f:section name="menuNextLevel">
	<ul class="dropdown-menu navbar-submenu" aria-labelledby="navbarDropdown">
		<f:for each="{menu}" as="page" iteration="iterator">
			<li>
				<a  href="{page.link}"
            class="dropdown-item navbar-submenu_link {f:if(condition: mainNavigationItem.active, then: 'active')}"
            >
					{page.title}
				</a>
			</li>
		</f:for>
	</ul>
</f:section>
